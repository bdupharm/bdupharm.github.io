<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> A Pharmacist's Adventures in Software Engineering</title><meta name="description" content="A Blog Powered By Hexo"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link active">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://www.linkedin.com/in/bo-du-pharmd-76b29371" target="_blank" class="nav-list-link">LINKEDIN</a></li><li class="nav-list-item"><a href="https://github.com/bdupharm" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><section class="container"><ul class="home post-list"><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2016/04/24/Zope-Transaction-Manager-Not-Committing-Your-Changes-Try-Marking-the-Session-as-Dirty/" class="post-title-link">Zope Transaction Manager Not Committing Your Changes? Try Marking the Session as Dirty</a></h2><div class="post-info">Apr 24, 2016</div><div class="post-content"><p>If you’re reading this post, then you are likely familiar with the <code>Pyramid</code> python web framework, the zope transaction manager (zope tm) and <code>SQLAlchemy</code>.<br>The zope tm is smart enough to know when your session is dirty most of the time. But what if you want to execute raw SQL directly? The zope tm will not know that the session is dirty and will not commit your changes.</p>
<p>Solution? Manually mark the session as dirty when you execute raw SQL yourself.</p></div><a href="/2016/04/24/Zope-Transaction-Manager-Not-Committing-Your-Changes-Try-Marking-the-Session-as-Dirty/" class="read-more">...more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2016/04/21/Casting-in-PostgreSQL-A-Shallow-Wade-Through-Comparisons/" class="post-title-link">Casting in PostgreSQL: A Shallow Wade Through Comparisons</a></h2><div class="post-info">Apr 21, 2016</div><div class="post-content"><p>Ever wondered how postgres is performing a comparison in a query like this:<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">db=# select relname, oid from pg_class where oid = 'pg_cast'::regclass;</span><br><span class="line"> relname | oid</span><br><span class="line">---------+------</span><br><span class="line"> pg_cast | 2605</span><br><span class="line">(1 row)</span><br></pre></td></tr></table></figure></p>
<p><code>oid</code> is not the same type as <code>regclass</code>… so how is postgres handling this comparison (and others)? </p></div><a href="/2016/04/21/Casting-in-PostgreSQL-A-Shallow-Wade-Through-Comparisons/" class="read-more">...more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2016/04/15/SCP-and-SSH-Without-Entering-a-Password/" class="post-title-link">SCP and SSH Without Entering a Password</a></h2><div class="post-info">Apr 15, 2016</div><div class="post-content"><p>Both <code>scp</code> and <code>ssh</code> prompt you for a password when trying to connect to a remote host. Here is how to do both without having to enter a password. </p></div><a href="/2016/04/15/SCP-and-SSH-Without-Entering-a-Password/" class="read-more">...more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2016/04/14/Don-t-Use-Masked-URL-Redirect-Records-Use-CNAME-Instead/" class="post-title-link">Don't Use Masked URL Redirect Records, Use CNAME Instead</a></h2><div class="post-info">Apr 14, 2016</div><div class="post-content"><p>A “masked” url redirect record in your DNS config most likely means your hosting provider is placing your website inside of an iframe. </p>
<p><img src="/images/2016/04/masked_url_redirect.png" alt="Masked URL Redirect Record"></p>
<p>No magic here… your page now looks like this:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN" "http://www.w3.org/TR/html4/frameset.dtd"&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">'content-type'</span> <span class="attr">content</span>=<span class="string">'text/html; charset=UTF-8'</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"VERSION"</span> <span class="attr">content</span>=<span class="string">""</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"DATA"</span> <span class="attr">content</span>=<span class="string">"example.registrar-servers.com (xxx.xx.xxx.xxx)"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">" "</span> <span class="attr">rel</span>=<span class="string">"shortcut icon"</span> <span class="attr">type</span>=<span class="string">"image/x-icon"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">frameset</span> <span class="attr">rows</span>=<span class="string">'100%, *'</span> <span class="attr">frameborder</span>=<span class="string">no</span> <span class="attr">framespacing</span>=<span class="string">0</span> <span class="attr">border</span>=<span class="string">0</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span>=<span class="string">"http://bdupharm.github.io"</span> <span class="attr">name</span>=<span class="string">mainwindow</span> <span class="attr">frameborder</span>=<span class="string">no</span> <span class="attr">framespacing</span>=<span class="string">0</span> <span class="attr">marginheight</span>=<span class="string">0</span> <span class="attr">marginwidth</span>=<span class="string">0</span>&gt;</span><span class="tag">&lt;/<span class="name">frame</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">frameset</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">noframes</span>&gt;</span><span class="tag">&lt;<span class="name">h2</span>&gt;</span>Your browser does not support frames. We recommend upgrading your browser.<span class="tag">&lt;/<span class="name">h2</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">center</span>&gt;</span>Click <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://bdupharm.github.io"</span> &gt;</span>here<span class="tag">&lt;/<span class="name">a</span>&gt;</span> to enter the site.<span class="tag">&lt;/<span class="name">center</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">noframes</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p></div><a href="/2016/04/14/Don-t-Use-Masked-URL-Redirect-Records-Use-CNAME-Instead/" class="read-more">...more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2016/04/12/Shellscript-e-flag/" class="post-title-link">Shellscript -e Flag & Changing Run-time Parameters with Set</a></h2><div class="post-info">Apr 12, 2016</div><div class="post-content"><p>Let’s say you want to your shellscript to exit when a command fails (returns with a non-zero exit code). Just call the shell interpreter with -e flag.</p>
<p>For example, we have a script named gunit.sh.<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/bin/sh -e</span></span><br><span class="line"></span><br><span class="line">touch /root/nottoday</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> Will not be executed</span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ ./gunit.sh</span><br><span class="line">touch: cannot touch ‘/root/nottoday’: Permission denied</span><br><span class="line">$ <span class="built_in">echo</span> $?</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<p>The <code>touch</code> command fails and the script exits immediately without executing the <code>echo</code> command.</p></div><a href="/2016/04/12/Shellscript-e-flag/" class="read-more">...more</a></article></li></ul></section><footer><div class="paginator"></div><div class="copyright"><p>© 2016 <a href="http://blog.bodu.io">Bo Du</a>, unless otherwise noted.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-76488168-1",'auto');ga('send','pageview');</script></body></html>